const e={0:[],1:[],2:[],3:[]};let a=0;function t(e,a){localStorage.setItem(a,JSON.stringify(e))}const l={boards:e,getFromLocalStorage:function(){e[0]=JSON.parse(localStorage.getItem("cardArray")??"[]"),e[1]=JSON.parse(localStorage.getItem("cardArrayBoard1")??"[]"),e[2]=JSON.parse(localStorage.getItem("cardArrayBoard2")??"[]"),e[3]=JSON.parse(localStorage.getItem("cardArrayBoard3")??"[]")},setToLocalStorage:t,addCardToBoard:function(a,l){e[l].push(a),t(e[0],"cardArray"),t(e[l],`cardArrayBoard${l}`)},getActive:function(){return a},setActive:function(e){a=e},getMainBoard:function(){return e[0]},setMainBoard:function(a){e[0]=a}};async function c(){let e=await fetch("https://65d85342c96fbb24c1bb40ab.mockapi.io/api/pintrest/PinterestClone");return await e.json()}function n({tag:e,className:a,place:t,text:l,attribute:c}){let n=document.createElement(e);if(a.forEach(e=>{n.classList.add(e)}),l&&(n.innerText=l),c)for(key in c)n.setAttribute(`${key}`,`${c[key]}`);return t&&t.append(n),n}function o(e,a,t,l){return n({tag:"button",className:[a],attribute:{id:[t]},place:l,text:e})}const i=[200,260,280,300,240];function s(e){let a=document.querySelector("main");a&&a.remove();let t=n({tag:"main",className:["main"],place:root}),c=n({tag:"div",className:["main__container"],place:t});for(let a of e){let e={data:a};e.view=function(e){let a=n({tag:"div",className:["card"]}),t=i[Math.floor(Math.random()*i.length)];n({tag:"img",className:["card-picture"],attribute:{src:e.data.picture+"?random="+e.data.id,height:t+"px",width:"640px"},place:a});let l=n({tag:"div",className:["card-content"],place:a});return n({tag:"img",className:["card-avatar"],attribute:{src:e.data.avatar},place:l}),n({tag:"div",className:["card-hashtag"],text:`#${e.data.hashtag}`,place:l}),a}(e),e.pin=function(e){let a=n({tag:"div",className:["pin-menu"],place:e.view}),t=o("Добавить на доску","pin-menu__button","button-add",a),c=o("Пожаловаться","pin-menu__button","button-complain",a);t.addEventListener("click",()=>{!function(e,a){let t=document.createElement("div");t.className="modal-add",e.append(t);let c=n({tag:"div",className:["modal-add__container"],place:t}),o=n({tag:"div",className:["modal-add__boards"],place:c});n({tag:"div",className:["modal-add__title"],text:"Добавить на доску",place:o}),function(e,a,t){for(let c=1;c<t.length;c++)n({tag:"a",className:["list__item"],attribute:{href:"#"},text:t[c],place:e}).addEventListener("click",function(){let e=l.getMainBoard().findIndex(e=>e.id===a.data.id);-1!==e&&(l.getMainBoard().splice(e,1),l.addCardToBoard(a.data,c)),a.view&&(a.view.remove(),a.view=null)})}(n({tag:"div",className:["modal-add__list"],place:o}),a,["Доска 0","Доска 1","Доска 2","Доска 3"]);let i=n({tag:"div",className:["modal-add__footer"],place:o});n({tag:"button",className:["modal-add__close"],text:"Закрыть",place:i}).addEventListener("click",()=>{t.remove()})}(document.querySelector("#root"),e)}),c.addEventListener("click",()=>{!function(e){let a=document.createElement("div");a.className="modal",e.append(a);let t=n({tag:"div",className:["modal_body"],place:a}),l=n({tag:"div",className:["modal_content"],place:t});n({tag:"div",className:["modal_title"],text:"Жалоба на пин",place:l});let c=n({tag:"div",className:["modal_text"],place:l}),o=["Спам","Членовредительство","Ложная информация","Агрессивные действия","Опасные товары","Преследование или критика","Сцены насилия","Нарушение конфиденциальности"];for(let e=0;e<=o.length-1;e++){let a=n({tag:"label",className:["modal_label"],text:o[e],place:c});n({tag:"input",className:["modal_checkbox"],attribute:{type:"checkbox"},place:a}),n({tag:"span",className:["modal_span"],place:a})}let i=n({tag:"div",className:["modal_footer"],place:l}),s=n({tag:"button",className:["modal_close"],text:"Отмена",place:i}),r=n({tag:"button",className:["modal_submit"],text:"Отправить",place:i}),d=n({tag:"span",className:["spinner"],place:r});for(let e of(s.addEventListener("click",()=>{a.remove()}),r.addEventListener("click",()=>{r.style.display="block",d.style.display="flex",d.classList.add("spin"),setTimeout(()=>{d.style.display="none",a.remove(),setTimeout(()=>{window.innerWidth>=1024&&alert("Ваша жалоба отправлена!")},700)},1500)}),a.querySelectorAll(".modal_label")))e.addEventListener("click",e=>{let a=e.currentTarget;a.firstElementChild.checked?a.style.color="red":a.style.color="black"})}(document.querySelector("#root"))}),e.view.addEventListener("mouseover",function(){a.style.display="flex"}),e.view.addEventListener("mouseout",function(){a.style.display="none"})}(e),c.append(e.view)}}!function(){let e=n({tag:"header",className:["header"],place:root}),a=n({tag:"div",className:["header__container"],place:e}),t=n({tag:"nav",className:["navigation"],place:a}),c=n({tag:"div",className:["link__nav"],place:t});n({tag:"span",className:["link__nav-text"],text:"Pinterest",place:c}),n({tag:"img",className:["link__img"],attribute:{src:"https://i.pinimg.com/280x280_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",alt:"Pinterest logo"},place:c}).addEventListener("click",function(){l.setActive(0),s(l.getMainBoard())});let o=n({tag:"div",className:["div__input-icon"],place:t});!function(e){n({tag:"input",className:["navigation__input"],text:void 0,attribute:{type:"search",placeholder:"Поиск..."},place:e}).addEventListener("input",function(e){var a;let t=e.target.value.toLowerCase(),c=l.boards,n=l.getActive();a=(-1!==n?c[n]:l.getMainBoard()).filter(e=>e.hashtag.toLowerCase().includes(t)),document.querySelector("main").remove(),s(a)})}(o);let i=n({tag:"div",className:["div__button"],place:o}),r=n({tag:"a",attribute:{href:"#"},className:["button-boards"],place:i});r.addEventListener("click",()=>{let e=i.querySelector(".Boards__menu");e.classList.toggle("active"),r.classList.toggle("active-burger"),e.classList.contains("active")&&e.querySelectorAll(".Boards__item").forEach(a=>{a.addEventListener("click",()=>{e.classList.remove("active"),r.classList.remove("active-burger")})})}),n({tag:"span",className:["button-boards_span"],text:"Выбрать доску",place:r}),function(e){let a=["Доска 0","Доска 1","Доска 2","Доска 3"];for(let t=1;t<a.length;t++)n({tag:"a",className:["Boards__item"],text:a[t],place:e}).addEventListener("click",function(e){console.log("Выбрана доска:",a[t]),document.querySelector("main").innerHTML="",l.setActive(t),s(l.boards[t])})}(n({tag:"div",className:["Boards__menu"],place:i}))}(),l.getFromLocalStorage(),0==l.getMainBoard().length?c().then(e=>{s(e),l.setToLocalStorage(e,"cardArray"),l.setMainBoard(e)}):s(l.getMainBoard());
//# sourceMappingURL=index.c5aafb72.js.map
